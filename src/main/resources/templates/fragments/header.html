<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div class="header" th:fragment="header">

    <div class="brand">Task Reminder App</div>

    <div class="nav">

        <span th:if="${session.userId != null}" class="user-section">

            <a href="/profile" class="profile-link" title="My Profile">
            <img th:src="${session.profileImage != null
                ? '/profile/image/' + session.profileImage + '?v=' + #dates.createNow().time
                : '/images/default-profile.jpeg'}"
                 class="profile-icon">
            </a>

            <span class="welcome">
                Welcome, <b th:text="${session.name}">User</b>!
            </span>

            <span id="liveClock" class="clock">--:--</span>

            <a href="/dashboard" class="btn-header">Dashboard</a>

            <form th:action="@{/logout}" method="post" style="display:inline;">
                <button type="submit" class="btn-header">Logout</button>
            </form>
        </span>

        <span th:if="${session.userId == null}">
            <a href="/login" class="btn-header">Login</a>
            <a href="/register" class="btn-header btn-primary">Register</a>
        </span>

    </div>

</div>
</html>
